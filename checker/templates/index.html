<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

    <title>QR Code scanner</title>
	<script src="https://code.jquery.com/jquery-3.5.0.js"></script>
	<style>
.container1 {
  width: 100%;
  margin: 0 auto;
  /* important part */
  display: grid;
  place-items: center;
  grid-template-areas:"inner-div";
}

.inner1 {
  height: 640;
  width: 360;
  /* important part */
  grid-area: inner-div;
}
</style>
</head>
<body>
<h1 class="text-center">Veuillez pr√©senter votre passe sanitaire</h1>
<div class="divTable mx-auto">
	<div class="divTableBody">
		<div class="divTableRow">
			<div class="divTableCell" >		
				<div class="container1">
						<div id="image" class="inner1"><img src="{{ url_for('checker.video_feed') }}" width="640" height="360"></div>
						<div id="result" class="inner1"></div>
				</div>
			</div>
		</div>
		<div class="divTableRow">
			<div class="divTableCell" >
				<div class="container1" id="result_txt"></div>
			</div>
		</div>
		<div class="divTableRow">
			<div class="divTableCell" >
				<div class="container1" id="result_user_thilab"></div>
			</div>
		</div>
		<div class="divTableRow">
			<div class="divTableCell" >
				<div class="container1" id="result_json"></div>
			</div>
		</div>

	</div>
</div>

<script>
setInterval(function(){
    refreshCode() // this will run after every 4 seconds
}, 2000);

refreshCode();

function refreshCode() {
	$( "#result" ).load( "/result_img" );
	$( "#result_txt" ).load( "/result_txt" );
	$( "#result_json" ).load( "/result_json" );
	$( "#result_user_thilab" ).load( "/result_user_thilab" );
}
</script>
</body>
</html>